(()=>{"use strict";const t=t=>{function e(t){let e="+7 (___) ___-__-__",a=0,n=e.replace(/\D/g,""),c=this.value.replace(/\D/g,"");n.length>=c.length&&(c=n),this.value=e.replace(/./g,(function(t){return/[_\d]/.test(t)&&a<c.length?c.charAt(a++):a>=c.length?"":t})),"blur"===t.type?2==this.value.length&&(this.value=""):((t,e)=>{if(e.focus(),e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){let a=e.createTextRange();a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select()}})(this.value.length,this)}document.querySelectorAll(t).forEach((t=>{t.addEventListener("input",e),t.addEventListener("focus",e),t.addEventListener("blur",e)}))},e=()=>{try{const t=document.querySelectorAll('[href^="#"]'),e=.15,a=t=>{let a=document.documentElement.scrollTop,n=document.querySelector(t).getBoundingClientRect().top-150,c=null;requestAnimationFrame((function t(o){null===c&&(c=o);let l=o-c,i=n<0?Math.max(a-l/e,a+n):Math.min(a+l/e,a+n);document.documentElement.scrollTo(0,i),i!=a+n&&requestAnimationFrame(t)}))};window.location.hash&&a(window.location.hash),t.forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault(),a(this.hash)}))}))}catch(t){console.log(t.stack)}};window.addEventListener("DOMContentLoaded",(()=>{t('input[type="tel"]'),e(),(()=>{try{document.querySelectorAll(".form-checks").forEach((t=>{t.querySelectorAll(".form-checks-item input").forEach((t=>{t.addEventListener("change",(()=>{t.parentElement.classList.toggle("active")}))}))}))}catch(t){console.log(t.stack)}try{document.querySelectorAll(".form").forEach((t=>{t.addEventListener("submit",(e=>{e.preventDefault();const a=new FormData(t),n=document.querySelector('.modal__success[data-name="'+t.getAttribute("data-success")+'"]');(async function(t,e){let a=await fetch(t,{method:"POST",body:e});return await a.text()})(t.action,a).then((t=>{n.classList.add("active")}))}))}))}catch(t){console.log(t.stack)}})(),(()=>{try{document.querySelectorAll(".slider").forEach((t=>{let e=t.querySelector(".slider-track"),a=t.querySelector(".slider-list"),n=t.querySelectorAll(".slide"),c=0,o=t.querySelector(".right"),l=t.querySelector(".left"),i=0,s=n.length;const r=()=>window.innerWidth<=576&&t.getAttribute("data-mob-vis")?+t.getAttribute("data-mob-vis"):window.innerWidth<=768&&t.getAttribute("data-tablet-vis")?+t.getAttribute("data-tablet-vis"):window.innerWidth<=992&&t.getAttribute("data-large-vis")?+t.getAttribute("data-large-vis"):window.innerWidth<=1200&&t.getAttribute("data-lap-vis")?+t.getAttribute("data-lap-vis"):t.getAttribute("data-pc-vis")?+t.getAttribute("data-pc-vis"):1,d=()=>{e.style.transform=`translateX(-${i*c}px)`},u=()=>{i+r()>=s?i=0:i++,d()},g=()=>{i<=0?i=s-r():i--,d()},h=()=>{c=n[0].offsetWidth+ +window.getComputedStyle(n[0]).marginRight.replace("px","")};e.style.transition="transform 0.5s ease 0s",h();let m=0;a.addEventListener("touchstart",(t=>{m=t.changedTouches[0].screenX})),a.addEventListener("touchend",(t=>{m-t.changedTouches[0].screenX>50?u():m-t.changedTouches[0].screenX<-50&&g()})),document.body.addEventListener("click",(t=>{t.target==o&&u(),t.target==l&&g()})),window.addEventListener("resize",(()=>{h()}))}))}catch(t){console.log(t.stack)}})(),(()=>{const t=t=>{t.forEach((t=>{(window.innerWidth<=600?window.innerHeight/1.05:window.innerHeight/1.2)+window.scrollY>=t.getBoundingClientRect().y+window.scrollY&&t.classList.add("anim")}))};try{const t=document.querySelector(".modal__cookie");t&&(setTimeout((()=>t.classList.add("active")),2e3),t.querySelector("button").addEventListener("click",(()=>{var e,a;(a=new Date).setTime(a.getTime()+36e8),e="; expires="+a.toGMTString(),document.cookie="cookie_agree="+encodeURIComponent(1)+e+"; path=/",t.classList.remove("active")})))}catch(t){console.log(t.stack)}try{const e=document.querySelectorAll(".elem_animate"),a=document.querySelectorAll(".text_animate");a.forEach((t=>{let e=t.textContent.trim(),a="",n=0;for(let t=0;t<e.length;t++)a+=`<i class="or" style="transition: 0.4s all ${n.toFixed(2)}s">${e[t]}</i>`,n+=.03;t.innerHTML=a})),t(e),t(a),window.addEventListener("scroll",(()=>{t(e),t(a)}))}catch(t){console.log(t.stack)}try{const t=document.querySelectorAll(".body-click-content"),e=document.querySelectorAll(".body-click-target");document.body.addEventListener("click",(a=>{a.target.classList.contains("body-click-target")||a.target.classList.contains("body-click-close")?(a.target.getAttribute("data-content")?document.querySelector('.body-click-content[data-content="'+a.target.getAttribute("data-content")+'"]').classList.toggle("active"):a.target.nextElementSibling.classList.contains("body-click-content")?a.target.nextElementSibling.classList.toggle("active"):a.target.parentElement.classList.remove("active"),!a.target.classList.contains("not-active")&&a.target.classList.toggle("active")):a.target.closest(".body-click-content")||(t.forEach((t=>t.classList.contains("not-global")?"":t.classList.remove("active"))),e.forEach((t=>t.classList.contains("not-active")||t.classList.contains("not-global")?"":t.classList.remove("active"))))}))}catch(t){console.log(t.stack)}try{document.querySelectorAll(".ajax-elems").forEach((e=>{const a=e.querySelector(".ajax-elems-btn"),n=e.querySelector(".ajax-elems-list"),c=+e.getAttribute("data-vis"),o=+e.getAttribute("data-block");let l,i=e.getAttribute("data-type"),s=a?+(a.getAttribute("data-page")||1):1,r=!1;const d=()=>{a&&a.classList.add("loading");const e=new FormData;e.append("page",s),e.append("block",o),e.append("vis",c),e.append("page-url",window.location.pathname),i&&e.append("type",i),async function(t,e){let a=await fetch("/ajax/elems.php",{method:"POST",body:e});return await a.text()}(0,e).then((e=>{a&&a.classList.remove("loading"),n.innerHTML+=e,a&&n.querySelectorAll(".ajax-elems-item").length<s*c&&a.remove(),n.querySelector(".elem_animate")&&(l=n.querySelectorAll(".elem_animate"),t(l),r||(window.addEventListener("scroll",(()=>t(l))),r=!0))}))};e.classList.contains("init")&&d(),a&&a.addEventListener("click",(()=>{s++,d()}))}))}catch(t){console.log(t.stack)}try{document.querySelectorAll(".lightbox-field").forEach((t=>{const e=t.querySelectorAll(".lightbox-item");let a=new FsLightbox;a.props.sources=[],e.forEach(((t,e)=>{a.props.sources.push(t.href),t.addEventListener("click",(t=>{t.preventDefault(),a.open(e)}))}))}))}catch(t){console.log(t.stack)}})()}))})();