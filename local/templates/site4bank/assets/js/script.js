(()=>{"use strict";const e=e=>{function t(e){let t="+7 (___) ___-__-__",a=0,n=t.replace(/\D/g,""),l=this.value.replace(/\D/g,"");n.length>=l.length&&(l=n),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&a<l.length?l.charAt(a++):a>=l.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let a=t.createTextRange();a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))},t=()=>{try{const e=document.querySelectorAll('[href^="#"]'),t=.15,a=e=>{let a=document.documentElement.scrollTop,n=document.querySelector(e).getBoundingClientRect().top-150,l=null;requestAnimationFrame((function e(c){null===l&&(l=c);let r=c-l,o=n<0?Math.max(a-r/t,a+n):Math.min(a+r/t,a+n);document.documentElement.scrollTo(0,o),o!=a+n&&requestAnimationFrame(e)}))};window.location.hash&&a(window.location.hash),e.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),a(this.hash)}))}))}catch(e){console.log(e.stack)}};window.addEventListener("DOMContentLoaded",(()=>{e('input[type="tel"]'),t(),(()=>{try{document.querySelectorAll(".form-checks").forEach((e=>{e.querySelectorAll(".form-checks-item input").forEach((e=>{e.addEventListener("change",(()=>{e.parentElement.classList.toggle("active")}))}))}))}catch(e){console.log(e.stack)}try{document.querySelectorAll(".form").forEach((e=>{e.addEventListener("submit",(e=>{e.preventDefault()}))}))}catch(e){console.log(e.stack)}})(),(()=>{try{document.querySelectorAll(".slider").forEach((e=>{let t=e.querySelector(".slider-track"),a=e.querySelector(".slider-list"),n=e.querySelectorAll(".slide"),l=0,c=e.querySelector(".right"),r=e.querySelector(".left"),o=0,i=n.length;const s=()=>window.innerWidth<=576&&e.getAttribute("data-mob-vis")?+e.getAttribute("data-mob-vis"):window.innerWidth<=768&&e.getAttribute("data-tablet-vis")?+e.getAttribute("data-tablet-vis"):window.innerWidth<=992&&e.getAttribute("data-large-vis")?+e.getAttribute("data-large-vis"):window.innerWidth<=1200&&e.getAttribute("data-lap-vis")?+e.getAttribute("data-lap-vis"):e.getAttribute("data-pc-vis")?+e.getAttribute("data-pc-vis"):1,d=()=>{t.style.transform=`translateX(-${o*l}px)`},u=()=>{o+s()>=i?o=0:o++,d()},h=()=>{o<=0?o=i-s():o--,d()},m=()=>{l=n[0].offsetWidth+ +window.getComputedStyle(n[0]).marginRight.replace("px","")};t.style.transition="transform 0.5s ease 0s",m();let g=0;a.addEventListener("touchstart",(e=>{g=e.changedTouches[0].screenX})),a.addEventListener("touchend",(e=>{g-e.changedTouches[0].screenX>50?u():g-e.changedTouches[0].screenX<-50&&h()})),document.body.addEventListener("click",(e=>{e.target==c&&u(),e.target==r&&h()})),window.addEventListener("resize",(()=>{m()}))}))}catch(e){console.log(e.stack)}})(),(()=>{try{const e=document.querySelectorAll("[data-modal]"),t=document.querySelector(".modals"),a=t.querySelectorAll(".modals__item");e.forEach((e=>{e.addEventListener("click",(n=>{n.preventDefault(),a.forEach((e=>e.classList.remove("active"))),t.querySelector("#"+e.getAttribute("data-modal").trim()).classList.add("active"),t.classList.add("active"),document.querySelector("body").classList.add("fixed"),document.querySelector("html").classList.add("fixed")}))})),t.addEventListener("click",(e=>{(e.target==t||e.target.classList.contains("modals__close"))&&(a.forEach((e=>e.classList.remove("active"))),t.classList.remove("active"),document.querySelector("body").classList.remove("fixed"),document.querySelector("html").classList.remove("fixed"))}))}catch(n){console.log(n.stack)}try{const l=document.querySelectorAll(".elem_animate"),c=document.querySelectorAll(".text_animate");function r(e){e.forEach((e=>{(window.innerWidth<=600?window.innerHeight/1.05:window.innerHeight/1.2)+window.scrollY>=e.getBoundingClientRect().y+window.scrollY&&e.classList.add("anim")}))}c.forEach((e=>{let t=e.textContent.trim(),a="",n=0;for(let e=0;e<t.length;e++)a+=`<i class="or" style="transition: 0.4s all ${n.toFixed(2)}s">${t[e]}</i>`,n+=.03;e.innerHTML=a})),r(l),r(c),window.addEventListener("scroll",(()=>{r(l),r(c)}))}catch(o){console.log(o.stack)}try{document.querySelectorAll(".ajax-elems").forEach((e=>{const t=e.querySelector(".ajax-elems-btn"),a=e.querySelector(".ajax-elems-list"),n=+e.getAttribute("data-vis"),l=+e.getAttribute("data-block");let c=e.getAttribute("data-type"),r=t?+(t.getAttribute("data-page")||1):1;const o=()=>{t&&t.classList.add("loading");const e=new FormData;e.append("page",r),e.append("block",l),e.append("vis",n),c&&e.append("type",c),async function(e,t){let a=await fetch("/ajax/elems.php",{method:"POST",body:t});return await a.text()}(0,e).then((e=>{t&&t.classList.remove("loading"),a.innerHTML+=e,t&&a.querySelectorAll(".ajax-elems-item").length<r*n&&t.remove()}))};e.classList.contains("init")&&o(),t&&t.addEventListener("click",(()=>{r++,o()}))}))}catch(i){console.log(i.stack)}})()}))})();